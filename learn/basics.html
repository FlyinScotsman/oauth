<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn OAuth2 Basics - OAuth2 Pattern Explorer</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="../index.html">OAuth2 Explorer</a>
            </div>
            <div class="nav-menu">
                <a href="basics.html" class="nav-link">Learn Basics</a>
                <a href="../tools/decision.html" class="nav-link">Decision Tree</a>
                <a href="../patterns/overview.html" class="nav-link">All Patterns</a>
                <a href="comparison.html" class="nav-link">Quick Guide</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="header">
            <h1>API Security Fundamentals</h1>
            <p>Essential concepts and terminology for understanding OAuth2 and API security</p>
        </div>

        <div class="main-content page-transition">
            <div class="step-title">Learn the Building Blocks</div>
            <div class="step-description">
                Before diving into OAuth2 flows, it's important to understand the fundamental concepts.
                These building blocks form the foundation of all OAuth2 implementations.
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 20px 0;">
                <div style="background: #e8f4fd; border-left: 4px solid #2196F3; padding: 20px; border-radius: 8px;">
                    <h3 style="color: #1976D2; margin-bottom: 15px;">🔐 Client Types</h3>
                    
                    <div style="margin-bottom: 15px;">
                        <h4 style="color: #333;">Confidential Client</h4>
                        <p style="color: #666; margin: 8px 0;">Can securely store credentials (client secret). Examples: web servers, backend services.</p>
                        <div style="background: #fff; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 0.9em;">✅ Has client_secret<br/>✅ Runs on secure server<br/>✅ Users can't access code</div>
                    </div>

                    <div>
                        <h4 style="color: #333;">Public Client</h4>
                        <p style="color: #666; margin: 8px 0;">Cannot securely store credentials. Examples: SPAs, mobile apps, desktop apps.</p>
                        <div style="background: #fff; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 0.9em;">❌ No client_secret<br/>❌ Code visible to users<br/>✅ Uses PKCE for security</div>
                    </div>
                </div>

                <div style="background: #f3e5f5; border-left: 4px solid #9C27B0; padding: 20px; border-radius: 8px;">
                    <h3 style="color: #7B1FA2; margin-bottom: 15px;">🎫 Token Types</h3>
                    
                    <div style="margin-bottom: 15px;">
                        <h4 style="color: #333;">JWT (JSON Web Token)</h4>
                        <p style="color: #666; margin: 8px 0;">Self-contained tokens that can be validated without calling the auth server.</p>
                        <div style="background: #fff; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 0.9em;">⚡ Fast validation<br/>📦 Contains user info<br/>🔍 Larger size</div>
                    </div>

                    <div>
                        <h4 style="color: #333;">Opaque Token</h4>
                        <p style="color: #666; margin: 8px 0;">Random strings that require introspection calls to validate.</p>
                        <div style="background: #fff; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 0.9em;">🔍 Requires introspection<br/>🎛️ Centralized control<br/>📏 Smaller size</div>
                    </div>
                </div>

                <div style="background: #e8f5e8; border-left: 4px solid #4CAF50; padding: 20px; border-radius: 8px;">
                    <h3 style="color: #2E7D32; margin-bottom: 15px;">🔄 Grant Types</h3>
                    
                    <div style="margin-bottom: 15px;">
                        <h4 style="color: #333;">Authorization Code</h4>
                        <p style="color: #666; margin: 8px 0;">For applications that involve users. Most secure flow for user authentication.</p>
                        <div style="background: #fff; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 0.9em;">👤 User involved<br/>🔐 Most secure<br/>📱 Web/Mobile apps</div>
                    </div>

                    <div>
                        <h4 style="color: #333;">Client Credentials</h4>
                        <p style="color: #666; margin: 8px 0;">For service-to-service communication with no user involved.</p>
                        <div style="background: #fff; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 0.9em;">🤖 No user involved<br/>⚙️ Service identity<br/>🔗 API-to-API calls</div>
                    </div>
                </div>

                <div style="background: #fff3e0; border-left: 4px solid #FF9800; padding: 20px; border-radius: 8px;">
                    <h3 style="color: #F57C00; margin-bottom: 15px;">🛡️ Security Features</h3>
                    
                    <div style="margin-bottom: 15px;">
                        <h4 style="color: #333;">PKCE (Proof Key for Code Exchange)</h4>
                        <p style="color: #666; margin: 8px 0;">Security extension that prevents authorization code interception attacks.</p>
                        <div style="background: #fff; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 0.9em;">🔒 Code challenge/verifier<br/>📱 Required for public clients<br/>🛡️ Prevents code hijacking</div>
                    </div>

                    <div>
                        <h4 style="color: #333;">Refresh Tokens</h4>
                        <p style="color: #666; margin: 8px 0;">Long-lived tokens used to obtain new access tokens without re-authentication.</p>
                        <div style="background: #fff; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 0.9em;">🔄 Renew access tokens<br/>⏰ Long-lived<br/>🔐 Single-use (rotation)</div>
                    </div>
                </div>
            </div>

            <div style="background: #f8f9fa; padding: 30px; border-radius: 15px; margin: 30px 0;">
                <h3 style="color: #333; margin-bottom: 20px;">📚 Glossary of Terms</h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                    <div>
                        <dl style="margin: 0;">
                            <dt style="font-weight: bold; color: #2196F3; margin-top: 15px;">Authorization Server</dt>
                            <dd style="margin: 5px 0 0 0; color: #666;">Issues access tokens after authenticating the user and obtaining authorization.</dd>
                            
                            <dt style="font-weight: bold; color: #2196F3; margin-top: 15px;">Resource Server</dt>
                            <dd style="margin: 5px 0 0 0; color: #666;">The API server that hosts protected resources and accepts access tokens.</dd>
                            
                            <dt style="font-weight: bold; color: #2196F3; margin-top: 15px;">Client</dt>
                            <dd style="margin: 5px 0 0 0; color: #666;">The application requesting access to protected resources (your app).</dd>
                            
                            <dt style="font-weight: bold; color: #2196F3; margin-top: 15px;">Resource Owner</dt>
                            <dd style="margin: 5px 0 0 0; color: #666;">The user who owns the data and can grant access to it.</dd>
                            
                            <dt style="font-weight: bold; color: #2196F3; margin-top: 15px;">Scope</dt>
                            <dd style="margin: 5px 0 0 0; color: #666;">Defines the level of access requested (e.g., "read:profile", "write:posts").</dd>
                        </dl>
                    </div>
                    
                    <div>
                        <dl style="margin: 0;">
                            <dt style="font-weight: bold; color: #9C27B0; margin-top: 15px;">Access Token</dt>
                            <dd style="margin: 5px 0 0 0; color: #666;">Short-lived token used to access protected resources. Usually 15-60 minutes.</dd>
                            
                            <dt style="font-weight: bold; color: #9C27B0; margin-top: 15px;">Authorization Code</dt>
                            <dd style="margin: 5px 0 0 0; color: #666;">Temporary code exchanged for tokens. Single-use and short-lived (10 minutes).</dd>
                            
                            <dt style="font-weight: bold; color: #9C27B0; margin-top: 15px;">Redirect URI</dt>
                            <dd style="margin: 5px 0 0 0; color: #666;">Where the auth server sends the user after authorization.</dd>
                            
                            <dt style="font-weight: bold; color: #9C27B0; margin-top: 15px;">Introspection</dt>
                            <dd style="margin: 5px 0 0 0; color: #666;">API endpoint to check if a token is valid and get metadata about it.</dd>
                            
                            <dt style="font-weight: bold; color: #9C27B0; margin-top: 15px;">Bearer Token</dt>
                            <dd style="margin: 5px 0 0 0; color: #666;">Access token sent in the "Authorization: Bearer xxx" HTTP header.</dd>
                        </dl>
                    </div>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 15px; margin: 20px 0;">
                <h3 style="margin-bottom: 15px;">💡 Key Security Principles</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                    <div>
                        <h4 style="margin-bottom: 8px;">🎯 Principle of Least Privilege</h4>
                        <p style="opacity: 0.9; font-size: 0.9em;">Request only the minimum scopes needed for your application to function.</p>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 8px;">⏰ Short-lived Tokens</h4>
                        <p style="opacity: 0.9; font-size: 0.9em;">Use short expiration times for access tokens to limit exposure if compromised.</p>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 8px;">🔄 Token Rotation</h4>
                        <p style="opacity: 0.9; font-size: 0.9em;">Rotate refresh tokens on each use to detect token theft.</p>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 8px;">🔒 Secure Storage</h4>
                        <p style="opacity: 0.9; font-size: 0.9em;">Store tokens securely - never in localStorage for sensitive apps.</p>
                    </div>
                </div>
            </div>

            <div class="nav-buttons">
                <a href="../index.html" class="btn btn-secondary">← Back to Home</a>
                <a href="../tools/decision.html" class="btn btn-primary">Ready to Choose a Flow →</a>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2025 OAuth2 Pattern Explorer. Educational resource for learning OAuth2 flows and security patterns.</p>
            <div class="footer-links">
                <a href="../index.html">Home</a>
                <a href="basics.html">Learn Basics</a>
                <a href="../patterns/overview.html">Patterns</a>
            </div>
        </div>
    </footer>
</body>
</html>
